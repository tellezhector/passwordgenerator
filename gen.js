p = {};
p.dictionary = {
    "a":["a","ab","abs","ac","ad","ads","af","ag","ah","ahi","ahu","ai","ain","ais","aiz","al","am","an","ans","ap","ar","as","at","au","auc","aug","aun","aus","ax","ay","az"],
    "b":["ba","bab","bac","bad","bai","baj","bal","bam","ban","bap","bar","bas","bau","bax","bay","be","beb","bec","bei","bel","bem","ben","ber","bes","beu","bey","bez","bi","bia","bic","bid","bie","bif","big","bil","bim","bin","bio","bir","bis","bit","biu","biz","bla","ble","bli","blo","blu","bo","boi","boj","bol","bom","bon","bor","bos","bot","bou","box","boy","bra","bre","bri","bro","bru","bu","bua","buc","bue","bui","buj","bul","bum","bun","bur","bus","but","bux","buz"],
    "c":["ca","cab","cac","cad","caf","cai","caj","cal","cam","can","cap","car","cas","cat","cau","cax","cay","caz","ce","ceb","ced","cei","cel","cem","cen","cep","cer","ces","cet","ceu","cez","cha","che","chi","cho","chu","ci","cia","cib","cic","cid","cie","cil","cim","cin","cio","cir","cis","cit","ciu","cix","cla","cle","cli","clo","clu","cni","cnt","co","coc","cog","coi","coj","cok","col","com","con","cop","cor","cos","cot","cox","coy","coz","cra","cre","cri","cro","cru","cu","cua","cud","cue","cui","cul","cum","cun","cuo","cur","cus","cut","cuy","cuz"],
    "d":["dac","dad","daf","dai","dal","dam","dan","dap","dar","das","dau","day","daz","de","deb","dec","dei","del","dem","den","dep","der","des","deu","dex","dez","di","dia","dic","did","die","dif","dig","dij","dil","dim","din","dio","dip","dir","dis","diu","diz","do","doc","dog","doi","dol","dom","don","dop","dor","dos","dou","doy","doz","dra","dre","dri","dro","dru","du","dua","dub","duc","due","dui","duj","dul","dum","dun","duo","dur","dus","dux","duz","dy"],
    "e":["e","ec","ei","eis","el","em","en","ep","er","es","et","eu","eus","ex","ez"],
    "f":["fa","fac","fad","fai","fal","fam","fan","far","fas","fau","fax","faz","fe","fec","fei","fel","fem","fen","fer","fes","feu","fez","fi","fia","fic","fie","fig","fil","fim","fin","fio","fir","fis","fiu","fiz","fla","fle","fli","flo","flu","fo","fod","foi","fol","fom","fon","for","fos","foz","fra","fre","fri","fro","fru","fu","fuc","fue","fui","ful","fun","fur","fus","fut"],
    "g":["ga","gad","gai","gal","gam","gan","gar","gas","gau","gay","gaz","ge","ged","gei","gel","gen","ger","ges","gi","gia","gid","gie","gil","gim","gin","gio","gip","gir","gis","gla","gle","gli","glo","glu","gne","gno","go","gol","gom","gon","gor","gos","got","goz","gra","gre","gri","gro","gru","gu","gua","gue","gui","gul","gum","gun","guo","gur","gus","guz"],
    "h":["ha","had","haf","hai","hal","ham","han","har","has","hau","hay","haz","he","heb","hec","hel","hem","hen","hep","her","hes","heu","hez","hi","hia","hid","hie","hil","him","hin","hip","hir","his","hiz","ho","hol","hom","hon","hor","hos","hoy","hoz","hu","hua","hue","hui","hun","hur","hus"],
    "i":["i","ic","id","ig","il","im","in","ins","io","ion","ip","ir","is","ist","iz"],
    "j":["ja","jac","jad","jai","jal","jam","jan","jar","jas","jau","jay","jaz","je","jec","jei","jel","jem","jen","jer","jes","jey","jez","ji","jia","jid","jie","jil","jim","jin","jio","jir","jis","jo","job","jol","jon","jor","jos","jou","ju","jua","jud","jue","jui","jum","jun","jur","jus","juz"],
    "k":["ka","kai","kan","ke","kel","ker","kif","kin","kli","klo","kur","ky"],
    "l":["lab","lac","lad","lag","lai","laj","lal","lam","lan","lap","lar","las","lat","lau","lax","lay","laz","le","lec","led","lef","lei","lej","lel","lem","len","lep","ler","les","let","leu","lex","ley","lez","li","lia","lib","lic","lid","lie","lig","lim","lin","lio","lip","lir","lis","lit","liu","liz","lla","lle","lli","llo","llu","lo","loi","loj","lol","lom","lon","lop","lor","los","lua","luc","lud","lue","lui","lul","lum","lun","luo","lup","lur","lus","lux","luz"],
    "m":["ma","mac","mad","mag","mai","maj","mal","mam","man","mar","mas","mau","max","may","maz","me","mec","mei","mel","mem","men","mer","mes","mey","mez","mi","mia","mic","mid","mie","mig","mil","mim","min","mio","mip","mir","mis","miu","mix","miz","mne","moc","moi","mok","mol","mon","mop","mor","mos","moz","mua","mud","mue","muf","mui","mul","mun","mur","mus","mut","muy","muz","my"],
    "n":["na","nac","nad","naf","nag","nai","nal","nam","nan","nap","nar","nas","nau","nax","nay","naz","ne","nec","nei","nel","nem","nen","nep","ner","nes","neu","nex","ney","nez","ni","nia","nic","nid","nie","nig","nil","nim","nin","nio","nip","nir","nis","nit","niu","nix","niz","no","nob","noc","noi","nol","nom","non","nop","nor","nos","noz","nu","nua","nue","nui","nul","nun","nuo","nup","nur","nus","nuz","ny"],
    "ñ":["ñac","ñad","ñal","ñam","ñan","ñar","ñas","ñaz","ñei","ñen","ñer","ñes","ñez","ñid","ñil","ñin","ñir","ñis","ñiu","ñol","ñon","ñor","ños","ñoz","ñue","ñus"],
    "o":["o","ob","obs","oc","of","oh","oi","ol","om","on","op","or","os"],
    "p":["pa","pac","pad","pai","pal","pam","pan","par","pas","pau","pax","pay","paz","pe","pec","ped","peg","pei","pel","pen","pep","per","pes","peu","pex","pey","pez","phi","pi","pia","pic","pid","pie","pig","pil","pim","pin","pio","pir","pis","pit","piu","pix","piz","pla","ple","pli","plo","plu","po","poi","pol","pom","pon","pop","por","pos","poy","pra","pre","pri","pro","pru","psf","pso","pte","pu","pua","pue","puf","pug","puk","pul","pum","pun","puo","pur","pus","puy","puz"],
    "q":["qua","que","qui"],
    "r":["ra","rac","rad","rai","raj","rak","ral","ram","ran","rap","rar","ras","rat","rau","rax","ray","raz","re","reb","rec","red","reg","rei","rel","rem","ren","rep","rer","res","reu","rey","rez","rho","ri","ria","ric","rid","rie","rig","ril","rim","rin","rio","rip","rir","ris","rit","riu","riz","ro","rob","rof","roi","rol","rom","ron","rop","ror","ros","rot","roy","roz","rra","rre","rri","rro","rru","ru","rua","rub","ruc","rue","rui","rum","run","ruo","rup","rur","rus","ruz"],
    "s":["sa","sad","sah","sai","sal","sam","san","sar","sas","sau","say","saz","se","sec","sed","seg","sei","sel","sem","sen","sep","ser","ses","set","seu","sex","sey","sez","si","sia","sid","sie","sig","sil","sim","sin","sio","sir","sis","sit","so","soi","sol","som","son","sop","sor","sos","soy","soz","su","sua","sub","suc","sud","sue","sui","sul","sum","sun","suo","sur","sus"],
    "t":["ta","tac","tad","tag","tai","tal","tam","tan","tar","tas","tat","tau","tax","tay","taz","te","tec","ted","teg","tei","tel","tem","ten","ter","tes","teu","tex","tey","tez","the","ti","tia","tib","tic","tid","tie","tig","til","tim","tin","tio","tip","tir","tis","tiu","tiz","tla","tle","to","toc","tof","toi","tol","tom","ton","top","tor","tos","toy","tra","tre","tri","tro","tru","tu","tua","tud","tue","tui","tul","tum","tun","tuo","tur","tus","tuy","tuz"],
    "u":["u","ua","uas","ud","ue","ues","uf","ul","um","un","ur","us","ut"],
    "v":["va","vac","vad","vai","val","vam","van","var","vas","vau","vaz","ve","vec","vei","vel","ven","ver","ves","vez","vi","via","vic","vid","vie","vil","vim","vin","vio","vir","vis","vit","viu","viz","vo","vod","voi","vol","von","vor","vos","vot","voy","voz","vra","vu","vue","vul","vun","vus"],
    "w":["whis","wol"],
    "x":["xa","xac","xad","xal","xan","xar","xas","xau","xe","xen","xer","xes","xi","xia","xid","xie","xil","xio","xir","xis","xiu","xo","xon","xor","xos","xu","xua","xul"],
    "y":["ya","yac","yad","yai","yak","yal","yam","yan","yar","yas","yat","yaz","ye","yec","yed","yel","yen","yer","yes","yeu","yez","yi","yil","yin","yis","yo","yoi","yol","yom","yon","yor","yos","yu","yua","yue","yul","yum","yun","yus","yux"],
    "z":["za","zad","zaf","zag","zai","zal","zam","zan","zar","zas","ze","zen","zeu","zi","zia","zig","zin","zir","zis","zo","zoi","zol","zom","zon","zor","zos","zra","zre","zu","zua","zud","zue","zui","zul","zum","zun","zuo","zur","zut","zuz"],
    ".":["pa","pac","pad","pai","pal","pam","pan","par","pas","pau","pax","pay","paz","pe","pec","ped","peg","pei","pel","pen","pep","per","pes","peu","pex","pey","pez","phi","pi","pia","pic","pid","pie","pig","pil","pim","pin","pio","pir","pis","pit","piu","pix","piz","pla","ple","pli","plo","plu","po","poi","pol","pom","pon","pop","por","pos","poy","pra","pre","pri","pro","pru","psf","pso","pte","pu","pua","pue","puf","pug","puk","pul","pum","pun","puo","pur","pus","puy","puz"],
	"1":["ua","uas","ud","ue","ues","uf","ul","um","un","ur","us","ut"],
	"2":["dad","daf","dai","dal","dam","dan","dap","dar","das","dau","day","daz","de","deb","dec","dei","del","dem","den","dep","der","des","deu","dex","dez","di","dia","dic","did","die","dif","dig","dij","dil","dim","din","dio","dip","dir","dis","diu","diz","do","doc","dog","doi","dol","dom","don","dop","dor","dos","dou","doy","doz","dra","dre","dri","dro","dru","du","dua","dub","duc","due","dui","duj","dul","dum","dun","duo","dur","dus","dux","duz","dy"],
	"3":["tac","tad","tag","tai","tal","tam","tan","tar","tas","tat","tau","tax","tay","taz","te","tec","ted","teg","tei","tel","tem","ten","ter","tes","teu","tex","tey","tez","the","ti","tia","tib","tic","tid","tie","tig","til","tim","tin","tio","tip","tir","tis","tiu","tiz","tla","tle","to","toc","tof","toi","tol","tom","ton","top","tor","tos","toy","tra","tre","tri","tro","tru","tu","tua","tud","tue","tui","tul","tum","tun","tuo","tur","tus","tuy","tuz"],
    "4":["cad","caf","cai","caj","cal","cam","can","cap","car","cas","cat","cau","cax","cay","caz","ce","ceb","ced","cei","cel","cem","cen","cep","cer","ces","cet","ceu","cez","cha","che","chi","cho","chu","ci","cia","cib","cic","cid","cie","cil","cim","cin","cio","cir","cis","cit","ciu","cix","cla","cle","cli","clo","clu","cni","cnt","co","coc","cog","coi","coj","cok","col","com","con","cop","cor","cos","cot","cox","coy","coz","cra","cre","cri","cro","cru","cu","cua","cud","cue","cui","cul","cum","cun","cuo","cur","cus","cut","cuy","cuz"],
    "5":["cac","cad","caf","cai","caj","cal","cam","can","cap","car","cas","cat","cau","cax","cay","caz","ce","ceb","ced","cei","cel","cem","cen","cep","cer","ces","cet","ceu","cez","cha","che","chi","cho","chu","ci","cia","cib","cic","cid","cie","cil","cim","cin","cio","cir","cis","cit","ciu","cix","cla","cle","cli","clo","clu","cni","cnt","co","coc","cog","coi","coj","cok","col","com","con","cop","cor","cos","cot","cox","coy","coz","cra","cre","cri","cro","cru","cu","cua","cud","cue","cui","cul","cum","cun","cuo","cur","cus","cut","cuy","cuz"],
    "6":["sah","sai","sal","sam","san","sar","sas","sau","say","saz","se","sec","sed","seg","sei","sel","sem","sen","sep","ser","ses","set","seu","sex","sey","sez","si","sia","sid","sie","sig","sil","sim","sin","sio","sir","sis","sit","so","soi","sol","som","son","sop","sor","sos","soy","soz","su","sua","sub","suc","sud","sue","sui","sul","sum","sun","suo","sur","sus"],
    "7":["sad","sah","sai","sal","sam","san","sar","sas","sau","say","saz","se","sec","sed","seg","sei","sel","sem","sen","sep","ser","ses","set","seu","sex","sey","sez","si","sia","sid","sie","sig","sil","sim","sin","sio","sir","sis","sit","so","soi","sol","som","son","sop","sor","sos","soy","soz","su","sua","sub","suc","sud","sue","sui","sul","sum","sun","suo","sur","sus"],
    "8":["ob","obs","oc","of","oh","oi","ol","om","on","op","or","os"],
    "9":["nac","nad","naf","nag","nai","nal","nam","nan","nap","nar","nas","nau","nax","nay","naz","ne","nec","nei","nel","nem","nen","nep","ner","nes","neu","nex","ney","nez","ni","nia","nic","nid","nie","nig","nil","nim","nin","nio","nip","nir","nis","nit","niu","nix","niz","no","nob","noc","noi","nol","nom","non","nop","nor","nos","noz","nu","nua","nue","nui","nul","nun","nuo","nup","nur","nus","nuz","ny"],
    "0":["cab","cac","cad","caf","cai","caj","cal","cam","can","cap","car","cas","cat","cau","cax","cay","caz","ce","ceb","ced","cei","cel","cem","cen","cep","cer","ces","cet","ceu","cez","cha","che","chi","cho","chu","ci","cia","cib","cic","cid","cie","cil","cim","cin","cio","cir","cis","cit","ciu","cix","cla","cle","cli","clo","clu","cni","cnt","co","coc","cog","coi","coj","cok","col","com","con","cop","cor","cos","cot","cox","coy","coz","cra","cre","cri","cro","cru","cu","cua","cud","cue","cui","cul","cum","cun","cuo","cur","cus","cut","cuy","cuz"],
}

p.l33t = {"a":"4","b":"B","c":"(","d":"D","e":"3","f":"F","g":"9","h":"#","i":"1","j":"J","k":"<","l":"!","m":"M","n":"N","o":"0","p":"P","q":"9","r":"R","s":"5","t":"7","u":"U","v":"V","w":"vv","x":"><","y":"Y","z":"2"};

p.l33tify = function(str)
{
    var result = "";
    for(var i in str)
    {
        result += p.l33t[str[i]];
    }
    
    return result;
}

p.translate = function(word, seed, difficulty)
{
    var lowercase = word.toLowerCase();
    var mixed = p.mixWord(word, seed  + word.length);
    var length = mixed.length;
    var result = "";
    
    var difficultyIndex = mixed.length - (difficulty % mixed.length);
    console.log(difficultyIndex);
    for(var i in mixed)
    {
        var character = mixed[i];
        var subdictionary = p.dictionary[character];
        var index = (length * seed * result.length) % subdictionary.length;
        var charTranslated = subdictionary[index];
        if(i % difficultyIndex == 0)
        {
            charTranslated = p.l33tify(charTranslated);
        }
        result = result + charTranslated;
    }
    
    return result;
}

p.mixWord = function(word, seed)
{
    var newWord = "";
    for(var i in word)
    {
        var code = word[i].charCodeAt(0);
        var flip = p.flipOp(code, seed, word.length);
        flip = p.flipOp(flip, newWord.length, word.length);
        var index = (flip) % word.length;
       
        newWord = newWord + word[index];
    }
   
    return newWord;
}

p.flipOp = function(n, m, r)
{
    if ((((n + m) % r) * ((m * n) % r )  + ((r * m) % n )) % 2 == 0)
    {
        return n + m;
    }  
    return n * m;
}

p.factorials = {}

p.factorial = function(n)
{
	if (n == 0)
	{
		return 1;
	}

	if (typeof p.factorials[n] === "undefined")
	{
		p.factorials[n] = n * p.factorial(n-1);
	}
	
	return p.factorials[n];
}

p.permutation = function(m, n)
{
}

p.permutation_order = function(m, n, order)
{
	var nf = p.factorial(n);
	var box_size = nf/n;
	if(m > nf)
	{
		throw "m out of bounds.";
	}

	if (typeof order == "undefined")
	{
		order = []
	}
	
	var r = Math.ceil(m/(box_size));
	order.push(r);
	
	if (order.length == n)
	{
		return order;
	}
	
	var new_m = m % box_size;
	return p.permutation_order(new_m, n-1, order);
}